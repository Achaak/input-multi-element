!function(e){e.fn.listElement=function(t){var n=t.nbMaxElem;e(this).html("<textarea class='fw-textarea'></textarea>");var i=e(".fw-textarea",this),l=e(this);function a(t){e(t).remove(),e(".fw-elem",l).length<n&&e(i).show(),o()}function f(){""!=e(i).val()&&(e("<div class='fw-elem'><div><span class='text'>"+e(i).val()+"</span><span class='delete'>Ã—</span></div></div>").insertBefore(i),e(i).val(""),e(".delete",l).click(function(t){a(e(this).parent().parent())})),e(".fw-elem",l).length>=n&&e(i).hide(),o()}function o(){e(l).outerWidth();for(var t=0,n=0;n<e(".fw-elem",l).length;n++){var a=e(".fw-elem:nth-child("+(n+1)+")",l).outerWidth();e(l).width()<t+a&&(t=0),e(l).width()-t<30&&(t=0),a<e(l).width()?t+=a:t=0}e(i).outerWidth(e(l).width()-t)}o(),e(i).focusout(function(e){f()}),e(i).keydown(function(t){13==t.keyCode?(t.preventDefault(),f()):8==t.keyCode&&""==e(i).val()&&a(e(".fw-elem:nth-last-child(2)",l)),o()}),e(l).click(function(t){e(i).focus()}),e(window).resize(function(){o()})},e.fn.getElements=function(t){var n=e(this),i=[];for(let t=0;t<n.find(".text").length;t++)i.push(e(n.find(".text")[t]).html());return i}}(jQuery);
