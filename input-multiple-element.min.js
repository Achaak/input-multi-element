!function(e){e.fn.listElement=function(t){if(t)var n=t.nbMaxElem?t.nbMaxElem:1e5;e(this).html("<textarea class='fw-textarea'></textarea>");var i=e(".fw-textarea",this),l=e(this);function a(t){e(t).remove(),e(".fw-elem",l).length<n&&e(i).show(),f()}function s(){""!=e(i).val()&&(e("<div class='fw-elem'><div><span class='text'>"+e(i).val()+"</span><span class='delete'>×</span></div></div>").insertBefore(i),e(i).val(""),e(".delete",l).click(function(t){a(e(this).parent().parent())})),e(".fw-elem",l).length>=n&&e(i).hide(),f()}function f(){e(l).outerWidth();for(var t=0,n=0;n<e(".fw-elem",l).length;n++){var a=e(".fw-elem:nth-child("+(n+1)+")",l).outerWidth();e(l).width()<t+a&&(t=0),e(l).width()-t<30&&(t=0),a<e(l).width()?t+=a:t=0}e(i).outerWidth(e(l).width()-t)}f(),e(i).focusout(function(e){s()}),e(i).keydown(function(t){13==t.keyCode?(t.preventDefault(),s()):8==t.keyCode&&""==e(i).val()&&a(e(".fw-elem:nth-last-child(2)",l)),f()}),e(l).click(function(t){e(i).focus()}),e(window).resize(function(){f()})},e.fn.getElements=function(t){var n=e(this),i=[];for(let t=0;t<n.find(".text").length;t++)i.push(e(n.find(".text")[t]).html());return i},e.fn.addElements=function(t){var n=e(".fw-textarea",this);for(let i=0;i<t.length;i++)e("<div class='fw-elem'><div><span class='text'>"+t[i]+"</span><span class='delete'>×</span></div></div>").insertBefore(n),e(".delete",this).click(function(t){deleteElement(e(this).parent().parent())})}}(jQuery);